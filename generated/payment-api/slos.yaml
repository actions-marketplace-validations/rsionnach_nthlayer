slos:
- kind: SLO
  name: availability
  spec:
    indicator:
      query: 'sum(rate(http_requests{service="${service}",code!~"5.."}[5m]))

        /

        sum(rate(http_requests{service="${service}"}[5m]))

        '
      type: availability
    objective: 99.95
    window: 30d
- kind: SLO
  name: latency-p95
  spec:
    indicator:
      percentile: 95
      query: "histogram_quantile(0.95,\n  rate(http_request_duration_seconds_bucket{service=\"\
        ${service}\"}[5m])\n)\n"
      threshold_ms: 500
      type: latency
    objective: 99.0
    window: 30d
- kind: SLO
  name: latency-p99
  spec:
    indicator:
      percentile: 99
      threshold_ms: 1000
      type: latency
    objective: 95.0
    window: 30d
