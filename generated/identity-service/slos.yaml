slos:
- kind: SLO
  name: availability
  spec:
    indicators:
    - success_ratio:
        good_query: sum(rate(http_requests_total{service="identity-service",status!~"5.."}[5m]))
        total_query: sum(rate(http_requests_total{service="identity-service"}[5m]))
      type: availability
    objective: 99.99
    window: 30d
- kind: SLO
  name: latency-p95
  spec:
    indicators:
    - latency_query: histogram_quantile(0.95, rate(http_request_duration_seconds_bucket{service="identity-service"}[5m]))
      percentile: 95
      threshold_ms: 200
      type: latency
    objective: 99.5
    window: 30d
- kind: SLO
  name: latency-p99
  spec:
    indicators:
    - latency_query: histogram_quantile(0.99, rate(http_request_duration_seconds_bucket{service="identity-service"}[5m]))
      percentile: 99
      threshold_ms: 500
      type: latency
    objective: 98.0
    window: 30d
